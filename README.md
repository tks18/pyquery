<div align="center">

# âš¡ PyQuery: The Main Character of Data Stacks ğŸ’«

### _ETL. EDA. ML. World Domination._

[![Status](https://img.shields.io/badge/Status-Goated_with_the_Sauce-%23FF0055?style=for-the-badge&logo=appveyor)](#)
[![Performance](https://img.shields.io/badge/Performance-Infinite_Aura-%2300ffa3?style=for-the-badge&logo=nvidia)](https://pola.rs)
[![Engine](https://img.shields.io/badge/Engine-Polars_Supremacy_ğŸ»â€â„ï¸-%23ffcc00?style=for-the-badge&logo=polars)](https://pola.rs)
[![Backend](https://img.shields.io/badge/Backend-FastAPI_ğŸš€-%23009688?style=for-the-badge&logo=fastapi)](https://fastapi.tiangolo.com)

[![Execution](https://img.shields.io/badge/Execution-Lazy_Execution_Enabled-6A0DAD?style=for-the-badge)](#)
[![Mode](https://img.shields.io/badge/Mode-Villain_Arc_Ready-8B0000?style=for-the-badge)](#)
[![Privacy](https://img.shields.io/badge/Privacy-Local_First_No_Cloud-2E8B57?style=for-the-badge)](#)
[![Vibe](https://img.shields.io/badge/Vibe-Immaculate_âœ¨-%238A2BE2?style=for-the-badge)](#)
[![Patience](https://img.shields.io/badge/Patience-Not_Required-000000?style=for-the-badge)](#)

[![PyPI Version](https://img.shields.io/pypi/v/pyquery-polars.svg?color=4CAF50&logo=python&logoColor=white)](https://pypi.org/project/pyquery-polars/)
[![Python Versions](https://img.shields.io/pypi/pyversions/pyquery-polars.svg?color=blue)](https://pypi.org/project/pyquery-polars/)
[![License](https://img.shields.io/github/license/tks18/pyquery.svg?color=orange)](LICENSE)

![Rows of Data](https://i.giphy.com/sRFEa8lbeC7zbcIZZR.webp)

**Stop letting Pandas hold you back. It's giving toxic ex.** ğŸš©

**PyQuery** is a local-first data operating system built on lazy execution that processes **100GB+ files** while you doomscroll. No cap. ğŸ§¢

[Feature Request](https://github.com/tks18/pyquery/issues) Â· [Report Bug](https://github.com/tks18/pyquery/issues)

</div>

---

## ğŸ§  TL;DR (For the goldfish attention spans)

> **New in recent drops:**
> PyQuery now boots like an operating system, adapts its CLI theme based on your mood, fixes broken CSV encodings automatically, and can isolate bad files so one cursed spreadsheet doesnâ€™t take your entire pipeline hostage.

1. **Install it:** `pip install pyquery-polars` (Don't be basic).
2. **Run it:** `pyquery ui` (Visuals) or `pyquery run` (Speedrun).
3. **The Flex:** It's a local-first, privacy-focused engine that eats Excel sheets and CSVs for breakfast using Rust. It has built-in ML, Monte Carlo sims, and SQL. It's basically a Data Scientist in a box.

---

## â›©ï¸ The Awakening (Lore)

Long ago, the Data World was mid. Analysts lived in fear of the `MemoryError`. They bowed before the single-threaded tyranny of the Old Gods (Pandas). They accepted their fate of freezing screens, crashing kernels, and waiting 4 hours for a simple `groupby`.

**But I refused.**

From the depths of the Rusty abyss, **PyQuery** has awakened. I am not just an ETL tool anymore. I am the entire war room. I am here to **obliterate** your bottlenecks and **ratio** your old benchmarks.

While they study the blade (Excel), I studied the **Lazy Frame**.
While they manage memory, I **devour** it.
While they draw primitive charts, I **simulate the future**.

The age of waiting is over. **Total Domination** is the only metric that matters.

**Welcome to your Villain Arc.** ğŸ‘¹

---

## ğŸ–¥ï¸ The Main Character CLI (Boot Sequence Update)

This is not a command line.  
This is a **startup ritual**.

Every time PyQuery boots, it behaves like a data OS coming online.

### âš¡ Adaptive Theme Engine

- CLI dynamically switches **color gradients, borders, and mood** based on the selected boot mode:
  - **Cyberpunk** (default neon main-character energy)
  - **Rustacean** (pure Polars lore)
  - **Matrix** (hacker-core, green text supremacy)
  - **Villain Arc** (purple & gold, no mercy)
- Each theme announces itself during startup. You _feel_ it before you run anything.

### ğŸ“Ÿ Sequential Boot Logs

- Real-time kernel-style logs with cinematic pacing:
  - Timestamped steps
  - Module icons (`âš¡ Engine`, `ğŸ’¾ IO`, `ğŸ§  Planner`)
- It doesnâ€™t say â€œloadingâ€â€¦  
  It **declares intent**.

### ğŸ§  Hardware Awareness

- On boot, PyQuery scans and displays:
  - CPU cores & threads
  - OS & architecture
- Not for flex. For **optimization**.
- The engine adapts execution strategy based on what your machine can actually handle.

Your terminal doesnâ€™t just start PyQuery.  
It **witnesses it**.

---

## ğŸ§¾ PyQuery vs. Power Query: The Roast

We don't usually punch down, but you asked for it.

| Feature                | âš¡ **PyQuery** (The Chad)                                      | ğŸ¢ **Power Query** (The Virgin)                                             |
| ---------------------- | -------------------------------------------------------------- | --------------------------------------------------------------------------- |
| **Speed**              | **Rust-Powered.** Processes millions of rows before you blink. | **Single-Threaded.** Spends 20 mins saying "Loading Data..." just to crash. |
| **Language**           | **Python/SQL/Polars.** The languages of gods.                  | **M-Code.** A language invented to punish humanity.                         |
| **AI/ML**              | **Built-in.** Random Forests, Clustering, & Monte Carlo Sims.  | **Non-existent.** You need a generic "AI Plugin" that costs extra.          |
| **Vibe**               | **Dark Mode CLI & Streamlit.** Cyberpunk aesthetic.            | **Corporate Grey.** It sucks the soul out of your body.                     |
| **Price**              | **Free & Open Source.**                                        | **Requires an Office 365 License** (Subscription L).                        |
| **Boot Experience**    | **Cinematic CLI with Themes & Logs**                           | **Static Spinner of Doom**                                                  |
| **Broken CSVs**        | **Auto-healed at ingest**                                      | **Crashes silently**                                                        |
| **One Bad File**       | **Isolated & corrected**                                       | **Pipeline dead**                                                           |
| **Hardware Awareness** | **Adapts to your machine**                                     | **Pretends cores donâ€™t exist**                                              |

---

## ğŸ’ª The Flex (Why We Are Him)

We built an empire so you can rule yours. This isn't just software; it's a lifestyle.

### ğŸ¯ EDA: The Crystal Ball (Expanded)

> _"Most tools describe the past. PyQuery predicts the future."_

We dropped a massive update. EDA is no longer just "looking at data". It's **hunting**. Check the **EDA Field Manual** for the full grimoire, but here's the tea:

#### 1. ğŸ§¬ Dataset DNA & Health Check

We scan your data's soul.

- **Missing Cells**: We don't just count nulls; we judge them. (<1% is excellence, >10% is sloppy).
- **Cardinality Checks**: Instantly know if a column is categorical or continuous.
- **Duplicate Detection**: We find the clones and eliminate them.

#### 2. ğŸš€ The Action Engine (ML Strategist)

- **Strategic Brief**: A "Top 3 Insights" card that ranks every signal in your data. It whispers: _"The money is here."_
- **Automated Drivers**: It finds the hidden variables controlling your target.
- _"Why is Churn high? It's not Price. It's Customer Support Wait Time > 5m."_ -> **Boom. Solved.**

- **Correlation Matrix**: We calculate Pearson, Cramerâ€™s V, and F-Tests automatically. We know the relationships better than you know your own situationship.

#### 3. ğŸ§ª ML Laboratory (The Brain)

- **Auto-Pilot Mode**: Trains an army of models (Random Forest, Lasso, Ridge) to find the best fit. You sit back and look busy.
- **Clustering (Unsupervised Rizz)**:
- **Elbow Plots & Silhouette Scores**: We optimize so you don't have to guess.
- **Cluster DNA**: We name the segments for you. "Cluster 1 = High Spend, Low Age."

- **Explainable Anomalies**: Uses Isolation Forests to catch the weirdos and fraudsters essentially instantly. We provide a **Contextual Profiler** to tell you _why_ they are weird.

#### 4. ğŸ® Decision Simulator (The Time Machine)

- **"What-If" Sliders**: Change variables in real-time. "If I raise Price by 10% and lower ad spend, do I still profit?"
- **Monte Carlo Sims**: Run 1,000+ simulations with Normal/Uniform distributions. We don't guess; we calculate the probability of your success.
- **Waterfall Analysis**: The Model breaks down exactly _why_ the prediction changed.

#### 5. ğŸ“ˆ Time Series & Visuals That Don't Miss

- **Holt-Winters Forecasting**: We predict the future with confidence intervals.
- **Decomposition**: We split your data into Trend, Seasonality, and Noise.
- **Cohort Comparison (Volcano Plots)**: Visualizing "Effect Size" vs "Significance." We bring the science.

---

### ğŸ§ª SQL Lab: The Codex (God Mode)

For when the GUI is too easy and you want to flex your raw SQL skills. This isn't SQLite. This is **High-Performance Lazy SQL**.

- **Zero-Lag Querying**: Run `SELECT *` on a **50GB file**? It pulls a preview instantly. The engine effectively cheats physics.
- **Cross-Dataset Joins**: Join your `sales.csv` with `targets.xlsx` using standard SQL. We bridge the gap.
- **Materialize**: Execute a complex query, then save it as a new dataset to continue the torture.
- **Direct Export**: SQL results straight to Parquet/Excel.

---

### ğŸ§¹ The Forge (Ruthless ETL)

ğŸ§  Backend I/O That Actually Understands Real-World Data, Real data is cursed. We planned for that.

- **ğŸ§¬ Auto-Encoding Detection**: PyQuery scans the first bytes of every CSV to automatically fix `UnicodeDecodeError`.

  - Supports UTF-8, CP1252, Latin-1, and other legacy horrors.
  - No manual `encoding=` guessing. Ever.

- **ğŸ§© Mixed-Encoding Folder Handling**: If a folder contains files with _different encodings_, PyQuery detects it and switches strategy automatically.

  - One bad vendor file will not ruin your entire ingest.
  - We isolate. We adapt. We continue.

- **ğŸ“‚ Recursive Folder Globbing (Upgraded)**: Patterns like `data/**/*.csv` now work even when:

  - Schemas differ slightly
  - Encodings are inconsistent
  - Headers are misaligned

- **âœ¨ Auto-Typecast (The Magic Button)**: One click scans rows and forcibly converts `Strings` to `Int`, `Float`, or `Date`. It uses regex heuristics to crush inconsistency.

- **ğŸ­ PII Incinerator**: Detects and obfuscates credit cards and social security numbers. Secrets remain secret.

- **ğŸ©¹ Smart Impute**: We fill the voids. Forward fill, backward fill, median, or specific value injection. No null survives.

- **ğŸ’¥ Explode & Coalesce**: Flatten lists and merge columns like a boss.

---

## ğŸ—ºï¸ The Roadmap (Manifesting Destiny) ğŸ”®

We aren't stopping here. We are aiming for the moon. ğŸš€

### Phase 1: Native App Supremacy (Rust + Tauri) ğŸ¦€

The browser has limits (RAM, Sandbox). The Native App will have **none**.

- **Hardware Acceleration**: GPU-accelerated plotting. 10 Million points at 144Hz.
- **Zero-Copy**: Access 100GB files directly from disk without loading _anything_.
- **Vibe**: Dark mode by default. OLED black.

### Phase 2: Big Data Devourer â˜ï¸

- **Cloud Connectors**: S3, GCS, Azure. We drink their milkshakes.
- **Distributed Compute**: If one core isn't enough, we take them all.

---

## ğŸ§¾ The Receipts (Benchmarks)

We don't post without proof. We mog the competition.

| Metric            | ğŸ¼ Pandas (Legacy)       | âš¡ PyQuery (Polars)     | The Diff       |
| ----------------- | ------------------------ | ----------------------- | -------------- |
| **Load 10GB CSV** | `MemoryError` (Crash) ğŸ’¥ | **0.2s** (Lazy Scan) âš¡ | **Infinite**   |
| **Filter Rows**   | 15.4s (Slow)             | **0.5s** (Parallel)     | **30x Faster** |
| **Group By**      | 45s (Painful)            | **2.1s** (Instant)      | **20x Faster** |
| **RAM Usage**     | 12GB+ (Bloated)          | **500MB** (Lean)        | **95% Less**   |

_Benchmarks run on a standard dev laptop. Results may vary but the vibe remains consistent._

---

## ğŸ§  The Tech Stack (Forbidden Knowledge) ğŸ

This isn't just a library. It's a weapon system.

### 1. ğŸŒŠ The "Infinite Stream" Glitch (Lazy Execution)

The Old Gods (Pandas) are **Eager**. They try to swallow the ocean (RAM) whole. They choke.
**PyQuery is Lazy.** It waits. It plans.

- **Scan**: "It's a 100GB file. Interesting."
- **Plan**: Filters, joins, math. Nothing executes until the final blow.
- **Stream**: Data flows in chunks. Process. Write. Destroy.
- **Result**: Processing 100GB on a MacBook Air. The laws of physics are optional.

### 2. âš™ï¸ File-Level Execution Control (The Missing Piece)

Most engines think in **datasets**.  
PyQuery can think in **files**.

#### ğŸ§¨ Individual File Processing Mode

- New execution branch: `process_individual=True`
- Forces the engine to **load files one-by-one instead of bulk scanning**

#### Why this matters (a lot):

- One corrupted CSV no longer nukes the entire pipeline.
- We get a **pre-concatenation window** where PyQuery can:
  - Standardize headers
  - Fix schemas
  - Apply targeted cleaning rules
- Bad files are fixed or isolated before they touch the rest.

This is how PyQuery survives **enterprise-grade mess**.

Bulk scan when you can.  
Precision strike when you must.

### 3. ğŸ›¡ï¸ Type Safety (Absolute Order)

Python is dynamic (chaotic). PyQuery imposes **Order**.

- Every step is backed by a **Pydantic Model**.
- If a `String` tries to infiltrate a `Float` column, it is terminated **before** execution.
- There are no runtime surprises. Only calculated victories.

---

## ğŸ® Choose Your Fighter (5 Paths to Power)

We don't limit you. Dominate however you choose.

### ğŸ“¦ Installation

```bash
pip install pyquery-polars

```

### 1. ğŸŒŠ The GUI (God Mode)

For when you want to click things, see pretty charts, and feel like a data scientist in a sci-fi movie.

- **Visual Recipe Builder**: Nodes and edges of pure logic.
- **Native File Picker**: Accessing the local filesystem directly. No barriers.

```bash
pyquery ui
# Launches the Web App on localhost:8501 ğŸš€

```

### 2. ğŸ’» The Interactive CLI (Shadow Mode)

For when you operate in the dark. â˜• This isn't a command line. It's a cockpit.

- **Dynamic Menus**: Use arrow keys to select transforms.
- **Rich Tables**: Beautiful, colorful ASCII dataframes.

```bash
pyquery interactive
# Enter the Matrix. ğŸ•¶ï¸

```

### 3. ğŸ¤– The API (Headless Beast)

Building a machine? Run PyQuery as the engine.

- **Swagger Docs**: Auto-generated at `/docs`.
- **Async**: Fire and forget jobs via `POST /recipes/run`.

```bash
pyquery api
# Serving high-performance ETL over HTTP at localhost:8000 ğŸ“¡

```

### 4. âš¡ The Batch Runner (Speedrun)

For automation. No interface. Just speed.

```bash
pyquery run -s input.csv -r recipe.json -o output.parquet
# Task complete. âš¡

```

### 5. ğŸ§™â€â™‚ï¸ The Sorcerer (Python SDK)

For the developers who want to weave PyQuery into their own code.

```python
from pyquery_polars.backend.engine import PyQueryEngine
# Full programmatic control over the recipe engine.
# You are the architect now.

```

> **Pro Tip:**  
> The CLI now supports multiple boot personalities (Boot Modes).  
> If you see purple and gold, youâ€™re in **Villain Arc mode** ğŸ‘¹.

---

## ğŸ§° The Loadout (Arsenal)

Packed with every tool needed to clear the map.

| Category      | The Tools                                            | Why it slaps                            |
| ------------- | ---------------------------------------------------- | --------------------------------------- |
| **Cleaning**  | `Fill Nulls`, `Mask PII`, `Smart Extract`, `Regex`   | Turns garbage data into gold. âœ¨        |
| **Analytics** | `Rolling Agg`, `Time Bin`, `Rank`, `Diff`, `Z-Score` | High-frequency trading vibes. ğŸ“ˆ        |
| **Combining** | `Smart Join`, `Concat`, `Pivot`, `Unpivot`           | Merge datasets without the headache. ğŸ¤ |
| **Math**      | `Log`, `Exp`, `Clip`, `Date Offset`                  | For the scientific girlies. ğŸ‘©â€ğŸ”¬          |
| **Text**      | `Slice`, `Case`, `Replace`, `One-Hot`                | String manipulation on steroids. ğŸ’ª     |
| **I/O**       | `CSV`, `Parquet`, `Excel`, `JSON`, `IPC`             | Speaks every language. ğŸ—£ï¸               |

> PyQuery doesnâ€™t assume your data is clean.  
> It assumes itâ€™s hostileâ€”and prepares accordingly.

---

## ğŸ§‘â€ğŸ’» Join the Cult (Developer Guide)

You want to contribute? Good. We need strong allies.

### The Blooding (Adding a Transform) ğŸ–ï¸

#### Backend Implementation

1. **Define Params**: Create a Pydantic model (`src/pyquery_polars/core/params.py`).
2. **Backend Logic**: Write a pure polars function (`src/pyquery_polars/backend/transforms/`).
3. **Register**: Add your step to `register_all_steps()` in `src/pyquery_polars/backend/engine/registry.py`.

#### Frontend Implementation

1. **Frontend Renderer**: Create a Renderer Function (`src/pyquery_polars/frontend/steps/`).
2. **Register**: Add your step to `register_frontend()` in `src/pyquery_polars/frontend/registry_init.py`.

It appears in the CLI, API, and UI **automatically**. ğŸ¤¯

```python
# Only certified ballers contribute code.
# Are you up for it?

```

---

## ğŸ“œ License

**GPL-3.0**. Open source forever. ğŸ’–

---

<div align="center">

_Made with â˜•, ğŸ¦€ (Rust), and ğŸ’– by [Sudharshan TK](https://github.com/tks18)_

</div>
